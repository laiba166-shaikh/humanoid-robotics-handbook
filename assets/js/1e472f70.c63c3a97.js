"use strict";(globalThis.webpackChunkhumanoid_textbook=globalThis.webpackChunkhumanoid_textbook||[]).push([[75],{9667(e,a,s){s.d(a,{A:()=>i});var r=s(3995),o=s(3725),n=s(4848);function i({disabled:e=!1}){return(0,n.jsx)("button",{className:o.A.secondaryButton,onClick:()=>{window.location.href=`${r.H}/api/auth/google/login`},disabled:e,children:"\ud83d\udd35 Login with Google"})}},5712(e,a,s){s.r(a),s.d(a,{default:()=>c});var r=s(6347),o=s(3852),n=s(9667),i=s(3995),t=s(6540),l=s(3725),d=s(4848);function c(){(0,r.W6)();const e=(0,r.zy)(),{login:a,isLoading:s}=(0,o.A)(),[c,u]=(0,t.useState)({email:"",password:""}),[h,m]=(0,t.useState)({}),[p,g]=(0,t.useState)(!1),[w,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{"oauth_failed"===new URLSearchParams(e.search).get("error")&&x("Google login was cancelled. Try again or use email.")},[e.search]);const b=e=>{const{name:a,value:s}=e.target;u(e=>({...e,[a]:s})),h[a]&&m(e=>({...e,[a]:void 0}))};return(0,d.jsx)("div",{className:l.A.authContainer,children:(0,d.jsxs)("div",{className:l.A.authCard,children:[(0,d.jsx)("h1",{children:"Log In"}),(0,d.jsx)("p",{className:l.A.subtitle,children:"Access the handbook"}),w&&(0,d.jsx)("div",{className:l.A.errorBanner,children:w}),h.general&&(0,d.jsx)("div",{className:l.A.errorBanner,children:h.general}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m({}),x(null);try{await a(c.email,c.password),window.location.href=`${i.Z}/docs`}catch(s){u({email:"",password:""}),m({general:s instanceof Error?s.message:"Login failed. Please try again."})}},children:[(0,d.jsxs)("div",{className:l.A.formGroup,children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{id:"email",name:"email",type:"email",value:c.email,onChange:b,placeholder:"you@example.com",required:!0,disabled:s}),h.email&&(0,d.jsx)("span",{className:l.A.errorText,children:h.email})]}),(0,d.jsxs)("div",{className:l.A.formGroup,children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password"}),(0,d.jsxs)("div",{className:l.A.passwordWrapper,children:[(0,d.jsx)("input",{id:"password",name:"password",type:p?"text":"password",value:c.password,onChange:b,placeholder:"Your password",required:!0,disabled:s}),(0,d.jsx)("button",{type:"button",className:l.A.togglePassword,onClick:()=>g(!p),disabled:s,children:p?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),h.password&&(0,d.jsx)("span",{className:l.A.errorText,children:h.password})]}),(0,d.jsx)("button",{type:"submit",className:l.A.submitButton,disabled:s,children:s?"Logging in...":"Log In"})]}),(0,d.jsx)("div",{className:l.A.divider,children:(0,d.jsx)("span",{children:"or"})}),(0,d.jsx)(n.A,{disabled:s}),(0,d.jsxs)("p",{className:l.A.switchAuth,children:["Don't have an account?"," ",(0,d.jsx)("a",{href:`${i.Z}/auth/signup`,children:"Sign up"})]})]})})}},3725(e,a,s){s.d(a,{A:()=>r});const r={authContainer:"authContainer_D6co",authCard:"authCard_qSK1",subtitle:"subtitle_nRz0",formGroup:"formGroup_NnKH",passwordWrapper:"passwordWrapper_fzqR",togglePassword:"togglePassword_S0IB",errorBanner:"errorBanner_yVBP",errorText:"errorText_N_Wj",errorList:"errorList_GTuN",submitButton:"submitButton_HICf",secondaryButton:"secondaryButton_mjm9",divider:"divider_ATwe",switchAuth:"switchAuth_wav4"}}}]);