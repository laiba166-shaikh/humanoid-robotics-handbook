<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Lesson 2.1: ROS 2 Core Concepts | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://laiba166-shaikh.github.io/humanoid-robotics-handbook/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://laiba166-shaikh.github.io/humanoid-robotics-handbook/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lesson 2.1: ROS 2 Core Concepts | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Learn ROS 2 architecture, DDS middleware, QoS settings, and the computation graph for distributed robot systems."><meta data-rh="true" property="og:description" content="Learn ROS 2 architecture, DDS middleware, QoS settings, and the computation graph for distributed robot systems."><meta data-rh="true" name="keywords" content="ROS 2 architecture,DDS middleware,Quality of Service,computation graph,peer-to-peer communication,distributed systems"><link data-rh="true" rel="icon" href="/humanoid-robotics-handbook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts"><link data-rh="true" rel="alternate" href="https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts" hreflang="en"><link data-rh="true" rel="alternate" href="https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Module 1: ROS 2","item":"https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/"},{"@type":"ListItem","position":2,"name":"Ch 2: ROS 2 Architecture","item":"https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/"},{"@type":"ListItem","position":3,"name":"2.1 Core Concepts","item":"https://laiba166-shaikh.github.io/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts"}]}</script><link rel="stylesheet" href="/humanoid-robotics-handbook/assets/css/styles.35246c28.css">
<script src="/humanoid-robotics-handbook/assets/js/runtime~main.3fbe639c.js" defer="defer"></script>
<script src="/humanoid-robotics-handbook/assets/js/main.ab16a929.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/humanoid-robotics-handbook/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/humanoid-robotics-handbook/"><div class="navbar__logo"><img src="/humanoid-robotics-handbook/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/humanoid-robotics-handbook/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="auth/login" class="loginLink_aZyx">Log In</a><a href="https://github.com/laiba166-shaikh/humanoid-robotics-handbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/humanoid-robotics-handbook/docs"><span title="Welcome to Physical AI &amp; Humanoid Robotics" class="linkLabel_WmDU">Welcome to Physical AI &amp; Humanoid Robotics</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/humanoid-robotics-handbook/docs/module-1-ros2"><span title="Module 1: ROS 2" class="categoryLinkLabel_W154">Module 1: ROS 2</span></a><button aria-label="Collapse sidebar category &#x27;Module 1: ROS 2&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-1-physical-ai"><span title="Ch 1: Physical AI" class="categoryLinkLabel_W154">Ch 1: Physical AI</span></a><button aria-label="Expand sidebar category &#x27;Ch 1: Physical AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture"><span title="Ch 2: ROS 2 Architecture" class="categoryLinkLabel_W154">Ch 2: ROS 2 Architecture</span></a><button aria-label="Collapse sidebar category &#x27;Ch 2: ROS 2 Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts"><span title="2.1 Core Concepts" class="linkLabel_WmDU">2.1 Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-2-nodes"><span title="2.2 Nodes" class="linkLabel_WmDU">2.2 Nodes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-3-topics-messages"><span title="2.3 Topics &amp; Messages" class="linkLabel_WmDU">2.3 Topics &amp; Messages</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-4-services-actions"><span title="2.4 Services &amp; Actions" class="linkLabel_WmDU">2.4 Services &amp; Actions</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-3-building-ros2"><span title="Ch 3: Building ROS 2" class="categoryLinkLabel_W154">Ch 3: Building ROS 2</span></a><button aria-label="Expand sidebar category &#x27;Ch 3: Building ROS 2&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-handbook/docs/module-2-digital-twin"><span title="Module 2: Digital Twin" class="categoryLinkLabel_W154">Module 2: Digital Twin</span></a><button aria-label="Expand sidebar category &#x27;Module 2: Digital Twin&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-handbook/docs/module-3-isaac"><span title="Module 3: NVIDIA Isaac" class="categoryLinkLabel_W154">Module 3: NVIDIA Isaac</span></a><button aria-label="Expand sidebar category &#x27;Module 3: NVIDIA Isaac&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-handbook/docs/module-4-vla"><span title="Module 4: VLA" class="categoryLinkLabel_W154">Module 4: VLA</span></a><button aria-label="Expand sidebar category &#x27;Module 4: VLA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/humanoid-robotics-handbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/humanoid-robotics-handbook/docs/module-1-ros2"><span>Module 1: ROS 2</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture"><span>Ch 2: ROS 2 Architecture</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">2.1 Core Concepts</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lesson 2.1: ROS 2 Core Concepts</h1></header>
<p><strong>Duration</strong>: 45 minutes
<strong>Hardware Tier</strong>: Tier 1 (Laptop + Cloud)
<strong>Layer</strong>: L1 (Manual Foundation)</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives" translate="no">​</a></h2>
<p>By the end of this lesson, you will be able to:</p>
<ul>
<li class="">Explain the ROS 2 distributed architecture and its advantages over centralized systems</li>
<li class="">Describe how DDS middleware enables peer-to-peer communication between nodes</li>
<li class="">Identify appropriate Quality of Service settings for different robot communication patterns</li>
<li class="">Visualize the computation graph to understand node relationships</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-ros-2-architecture-matters">Why ROS 2 Architecture Matters<a href="#why-ros-2-architecture-matters" class="hash-link" aria-label="Direct link to Why ROS 2 Architecture Matters" title="Direct link to Why ROS 2 Architecture Matters" translate="no">​</a></h2>
<p>A warehouse robot loses connection to its central server. In ROS 1, the entire system would freeze. In ROS 2, the robot continues operating because nodes communicate directly with each other. This architectural shift from centralized to distributed systems makes modern robots more resilient, scalable, and production-ready.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-ros-2-architecture">What is ROS 2 Architecture<a href="#what-is-ros-2-architecture" class="hash-link" aria-label="Direct link to What is ROS 2 Architecture" title="Direct link to What is ROS 2 Architecture" translate="no">​</a></h2>
<p><strong>ROS 2 (Robot Operating System 2)</strong> is a distributed middleware framework that breaks complex robot systems into small, independent programs called <strong>nodes</strong>. Each node performs one specific task, such as reading sensor data, processing images, or controlling motors. Unlike traditional monolithic programs, ROS 2 nodes run as separate processes that communicate through well-defined channels.</p>
<p>The architecture follows three core principles. First, nodes are independent executables that can start, stop, and restart without affecting other parts of the system. Second, communication happens through standardized message types, ensuring different nodes can work together even if written by different teams. Third, the system is language-agnostic, supporting Python, C++, and other languages through client libraries.</p>
<p>ROS 2 Humble Hawksbill is the current Long-Term Support release, maintained until 2027. It runs on Ubuntu 22.04, Windows 10, and macOS, making it accessible across development environments. The Humble release focuses on real-time performance, security improvements, and production deployment features that were missing in ROS 1.</p>
<p>This modular design means you can develop a camera node on your laptop, test a navigation node in simulation, and deploy both to a physical robot without rewriting code. Each node remains a black box to others, exposing only its inputs and outputs through topics, services, and actions.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="dds-middleware-and-peer-to-peer-communication">DDS Middleware and Peer-to-Peer Communication<a href="#dds-middleware-and-peer-to-peer-communication" class="hash-link" aria-label="Direct link to DDS Middleware and Peer-to-Peer Communication" title="Direct link to DDS Middleware and Peer-to-Peer Communication" translate="no">​</a></h2>
<p><strong>DDS (Data Distribution Service)</strong> is the communication layer that powers ROS 2. Unlike ROS 1, which required a central master node to coordinate all communication, DDS enables <strong>peer-to-peer communication</strong> where nodes discover and connect to each other automatically. This eliminates the single point of failure that plagued ROS 1 systems.</p>
<p>When you start a ROS 2 node, DDS broadcasts a discovery message on the local network. Other nodes receive this message and learn about the new node&#x27;s publishers, subscribers, services, and actions. Within seconds, nodes establish direct connections without human intervention. This process is called <strong>automatic discovery</strong>.</p>
<p>DDS handles the low-level networking details that would otherwise require hundreds of lines of socket programming. It manages message serialization, network transport, congestion control, and reliability guarantees. As a robotics developer, you work with high-level ROS 2 APIs while DDS handles the complexity underneath.</p>
<p>Multiple DDS implementations exist, including Fast DDS (default in Humble), Cyclone DDS, and RTI Connext. ROS 2 abstracts these differences through a common interface called <strong>rmw (ROS middleware)</strong>. You can switch DDS implementations by changing an environment variable, allowing you to choose the best performance for your hardware.</p>
<p>The peer-to-peer model scales better than centralized architectures. A robot with 50 nodes doesn&#x27;t bottleneck through a single master. If one node crashes, others continue operating. This resilience is critical for production robots in warehouses, hospitals, and factories where downtime costs money.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quality-of-service-settings-for-reliable-communication">Quality of Service Settings for Reliable Communication<a href="#quality-of-service-settings-for-reliable-communication" class="hash-link" aria-label="Direct link to Quality of Service Settings for Reliable Communication" title="Direct link to Quality of Service Settings for Reliable Communication" translate="no">​</a></h2>
<p><strong>Quality of Service (QoS)</strong> settings control how messages travel between nodes. ROS 2 provides fine-grained control over reliability, durability, and delivery guarantees through QoS profiles. Choosing the right QoS prevents data loss in critical systems while allowing best-effort delivery for high-frequency sensor data.</p>
<p>The <strong>reliability</strong> setting has two options. <strong>Reliable</strong> delivery guarantees every message arrives, retransmitting lost packets until acknowledged. Use this for command messages like motor control where missing a stop command could damage hardware. <strong>Best-effort</strong> delivery sends messages once without confirmation. Use this for sensor streams like camera images where the next frame makes old data obsolete.</p>
<p>The <strong>durability</strong> setting determines whether late-joining subscribers receive old messages. <strong>Transient local</strong> durability stores recent messages so new subscribers catch up on missed data. This works well for robot state information. <strong>Volatile</strong> durability discards old messages, appropriate for real-time sensor feeds where only current data matters.</p>
<p>The <strong>history</strong> setting controls message queuing. A <strong>keep last</strong> policy with depth 10 stores the 10 most recent messages. If a subscriber falls behind, it skips to the newest messages rather than processing a backlog. A <strong>keep all</strong> policy never discards messages, risking memory exhaustion if subscribers can&#x27;t keep up.</p>
<p>Here&#x27;s how different robot systems use QoS profiles:</p>
<table><thead><tr><th>System Component</th><th>Reliability</th><th>Durability</th><th>History</th><th>Reason</th></tr></thead><tbody><tr><td>Motor commands</td><td>Reliable</td><td>Volatile</td><td>Keep last 1</td><td>Must arrive, only latest matters</td></tr><tr><td>Camera stream</td><td>Best-effort</td><td>Volatile</td><td>Keep last 5</td><td>High frequency, old frames useless</td></tr><tr><td>Robot state</td><td>Reliable</td><td>Transient local</td><td>Keep last 10</td><td>New nodes need current state</td></tr><tr><td>Emergency stop</td><td>Reliable</td><td>Volatile</td><td>Keep last 1</td><td>Critical, must not be lost</td></tr></tbody></table>
<p>Mismatched QoS between publisher and subscriber prevents communication. A reliable publisher won&#x27;t connect to a best-effort subscriber. ROS 2 enforces these rules to prevent silent data loss that could cause robot failures.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-computation-graph-visualizes-node-relationships">The Computation Graph Visualizes Node Relationships<a href="#the-computation-graph-visualizes-node-relationships" class="hash-link" aria-label="Direct link to The Computation Graph Visualizes Node Relationships" title="Direct link to The Computation Graph Visualizes Node Relationships" translate="no">​</a></h2>
<p>The <strong>computation graph</strong> is a visual representation of all active nodes and their communication channels. Nodes appear as circles, topics as arrows connecting them. This graph helps you understand data flow, debug connection issues, and verify your system architecture matches your design.</p>
<p>Every ROS 2 system has an implicit graph structure. When you run <code>ros2 node list</code>, you see all active nodes. When you run <code>ros2 topic list</code>, you see all communication channels. The <code>rqt_graph</code> tool combines this information into an interactive diagram where you can click nodes to inspect their connections.</p>
<p>Consider a simple mobile robot with three nodes. A <code>camera_node</code> publishes images to the <code>/camera/image</code> topic. A <code>vision_node</code> subscribes to that topic and publishes detected objects to <code>/detected_objects</code>. A <code>navigation_node</code> subscribes to detected objects and publishes velocity commands to <code>/cmd_vel</code>. The computation graph shows this pipeline visually, making the data flow obvious.</p>
<p>The graph updates in real-time as nodes start and stop. If the vision node crashes, the graph shows the broken connection between camera and navigation. This immediate feedback helps you diagnose problems faster than reading log files. You can also filter the graph to show only specific nodes or topics, reducing clutter in complex systems.</p>
<p>Understanding the computation graph is essential for debugging. If your robot isn&#x27;t responding to commands, check whether the command publisher and motor subscriber are connected. If sensor data seems stale, verify the sensor node is publishing at the expected rate. The graph makes these invisible connections visible.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-your-first-ros-2-node">Creating Your First ROS 2 Node<a href="#creating-your-first-ros-2-node" class="hash-link" aria-label="Direct link to Creating Your First ROS 2 Node" title="Direct link to Creating Your First ROS 2 Node" translate="no">​</a></h2>
<p>Let&#x27;s build a minimal ROS 2 node to see these concepts in action. This node will initialize the ROS 2 runtime, create a node object, and log a message to demonstrate the basic structure every node follows.</p>
<p><strong>What we&#x27;re building</strong>: A simple ROS 2 node that demonstrates initialization and logging.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># minimal_node.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">node </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">MinimalNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;minimal_node&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Minimal node has started&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token operator">=</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    node </span><span class="token operator">=</span><span class="token plain"> MinimalNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">spin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Expected output</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[INFO] [minimal_node]: Minimal node has started</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening</strong>:</p>
<ul>
<li class="">Line 2: <code>rclpy</code> is the Python client library for ROS 2, providing all core functionality</li>
<li class="">Line 3: <code>Node</code> is the base class that all ROS 2 nodes inherit from</li>
<li class="">Line 6: <code>super().__init__(&#x27;minimal_node&#x27;)</code> registers this node with the name &#x27;minimal_node&#x27; in the computation graph</li>
<li class="">Line 7: <code>get_logger().info()</code> writes to the ROS 2 logging system, which timestamps and categorizes messages</li>
<li class="">Line 10: <code>rclpy.init()</code> initializes the ROS 2 runtime and connects to DDS middleware</li>
<li class="">Line 12: <code>rclpy.spin()</code> keeps the node running and processing callbacks until interrupted</li>
<li class="">Line 13: <code>rclpy.shutdown()</code> cleanly disconnects from DDS and releases resources</li>
</ul>
<p>This pattern appears in every ROS 2 node you&#x27;ll write. The initialization, spin, and shutdown sequence ensures proper resource management and clean exits when you press Ctrl+C.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Try This</div><div class="admonitionContent_BuS1"><p>Save this code as <code>minimal_node.py</code> and run it with <code>python3 minimal_node.py</code>. In another terminal, run <code>ros2 node list</code> to see your node in the computation graph. Press Ctrl+C to stop the node cleanly.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways" translate="no">​</a></h2>
<ul>
<li class="">ROS 2 uses a distributed architecture where nodes communicate peer-to-peer through DDS middleware, eliminating the single point of failure from ROS 1&#x27;s centralized master.</li>
<li class="">DDS provides automatic node discovery, allowing nodes to find and connect to each other without manual configuration.</li>
<li class="">Quality of Service settings control message delivery guarantees, with reliable delivery for critical commands and best-effort for high-frequency sensor data.</li>
<li class="">The computation graph visualizes all nodes and their communication channels, making system architecture and data flow visible for debugging.</li>
<li class="">Every ROS 2 node follows the same pattern: initialize the runtime, create a node object, spin to process callbacks, and shutdown cleanly.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="check-your-understanding">Check Your Understanding<a href="#check-your-understanding" class="hash-link" aria-label="Direct link to Check Your Understanding" title="Direct link to Check Your Understanding" translate="no">​</a></h2>
<ol>
<li class="">
<p>What advantage does ROS 2&#x27;s peer-to-peer architecture provide over ROS 1&#x27;s centralized master node?</p>
</li>
<li class="">
<p>A robot&#x27;s emergency stop button publishes to the <code>/emergency_stop</code> topic. Should this use reliable or best-effort QoS? Explain your reasoning.</p>
</li>
<li class="">
<p>You run <code>ros2 node list</code> and see five nodes, but <code>rqt_graph</code> shows only three nodes connected. What does this tell you about your system?</p>
</li>
<li class="">
<p>Compare transient local and volatile durability. When would you choose each for a robot&#x27;s battery status topic?</p>
</li>
<li class="">
<p>In the minimal node example, what would happen if you removed the <code>rclpy.spin(node)</code> line? Why?</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">​</a></h2>
<p>Now that you understand ROS 2&#x27;s distributed architecture and communication patterns, the next lesson explores nodes in depth. You&#x27;ll learn about node lifecycle management, parameters, and how to structure nodes for maintainability and testing.</p>
<hr>
<p><strong>Hardware Tier 1 Note</strong>: Use <a href="https://www.theconstructsim.com/" target="_blank" rel="noopener noreferrer" class="">The Construct</a> for a browser-based ROS 2 environment with pre-configured Humble installation. Alternatively, <a href="https://foxglove.dev/" target="_blank" rel="noopener noreferrer" class="">Foxglove Studio</a> provides visualization tools without requiring local ROS 2 installation. Both platforms let you run the minimal node example and explore the computation graph through web interfaces.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/laiba166-shaikh/humanoid-robotics-handbook/tree/main/humanoid-textbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-1-core-concepts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ch 2: ROS 2 Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/humanoid-robotics-handbook/docs/module-1-ros2/chapter-2-ros2-architecture/lesson-2-nodes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">2.2 Nodes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#why-ros-2-architecture-matters" class="table-of-contents__link toc-highlight">Why ROS 2 Architecture Matters</a></li><li><a href="#what-is-ros-2-architecture" class="table-of-contents__link toc-highlight">What is ROS 2 Architecture</a></li><li><a href="#dds-middleware-and-peer-to-peer-communication" class="table-of-contents__link toc-highlight">DDS Middleware and Peer-to-Peer Communication</a></li><li><a href="#quality-of-service-settings-for-reliable-communication" class="table-of-contents__link toc-highlight">Quality of Service Settings for Reliable Communication</a></li><li><a href="#the-computation-graph-visualizes-node-relationships" class="table-of-contents__link toc-highlight">The Computation Graph Visualizes Node Relationships</a></li><li><a href="#creating-your-first-ros-2-node" class="table-of-contents__link toc-highlight">Creating Your First ROS 2 Node</a></li><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li><li><a href="#check-your-understanding" class="table-of-contents__link toc-highlight">Check Your Understanding</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-handbook/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-handbook/docs/module-1-ros2">Module 1: ROS 2</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.ros.org/en/humble/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ROS 2 Documentation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://developer.nvidia.com/isaac-sim" target="_blank" rel="noopener noreferrer" class="footer__link-item">NVIDIA Isaac<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://gazebosim.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gazebo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://panaversity.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Panaversity<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/laiba166-shaikh/humanoid-robotics-handbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Physical AI & Humanoid Robotics. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>