# Implementation Plan: Module 1 Lesson Content

**Branch**: `002-module-1-lessons` | **Date**: 2026-02-07 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `specs/002-module-1-lessons/spec.md`

## Summary

Create all 12 production-ready lesson files for Module 1 (The Robotic Nervous System — ROS 2) across 3 chapters. Each lesson follows the RAG-optimized skeleton with complete YAML frontmatter, 300-500 token H2 sections, illustrative code snippets, and self-assessment questions. The `chapter-lesson-writer` agent handles lesson generation using the `lesson-generator` skill's reference files as quality contracts.

## Technical Context

**Language/Version**: Markdown (.md) with YAML frontmatter, rendered by Docusaurus v3
**Primary Dependencies**: Docusaurus v3 + TypeScript, Infima CSS framework
**Storage**: File-based (Git repository, GitHub Pages deployment)
**Testing**: `npm run build` (Docusaurus build verification), manual quality checklist review
**Target Platform**: Web (GitHub Pages), optimized for RAG ingestion
**Project Type**: Content — 12 lesson markdown files within existing Docusaurus site
**Performance Goals**: Every H2 section 300-500 tokens for optimal RAG chunk size
**Constraints**: Must match existing chapter README link targets exactly; all frontmatter fields mandatory
**Scale/Scope**: 12 lessons, ~120 H2 sections, estimated ~60,000 words total

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Gate | Status | Evidence |
|------|--------|----------|
| Educational Clarity (Bloom's verbs) | PASS | FR-007 requires Bloom's verbs in all objectives |
| Hardware-Aware Content (Tier 1 fallback) | PASS | FR-006 requires non-empty tier_1_path |
| RAG-Optimized Content (300-500 tokens, H2 boundaries) | PASS | FR-003, FR-004 enforce this |
| Safety-First (danger admonitions for hardware) | PASS | FR-015 requires :::danger for motor control |
| 4-Layer Teaching Framework (L1 before L2) | PASS | Lesson inventory follows L1 → L2 → L2-L3 progression |
| Docusaurus Conventions (.md, README.md, naming) | PASS | FR-013 enforces lesson-{n}-{slug}.md convention |
| Frontmatter Schema (14 mandatory fields) | PASS | FR-001 lists all 14 fields |
| Content Writing Standards (sentence length, banned phrases) | PASS | FR-008, FR-009 enforce language rules |
| Code Example Pattern (four-part) | PASS | FR-005 requires context + code + output + explanation |
| Glossary Consistency | PASS | FR-009 requires bold-on-first-use; glossary in constitution |

All gates pass. No violations to justify.

## Project Structure

### Documentation (this feature)

```text
specs/002-module-1-lessons/
├── plan.md              # This file
├── research.md          # Phase 0 output — content research per lesson
├── spec.md              # Feature specification
├── checklists/
│   └── requirements.md  # Spec quality checklist
└── tasks.md             # Phase 2 output (created by /sp.tasks)
```

### Source Code (repository root)

```text
humanoid-textbook/docs/module-1-ros2/
├── README.md                          # Module overview (exists)
├── chapter-1-physical-ai/
│   ├── README.md                      # Chapter overview (exists)
│   ├── lesson-1-foundations.md        # NEW — Lesson 1.1
│   ├── lesson-2-digital-to-physical.md # NEW — Lesson 1.2
│   ├── lesson-3-humanoid-landscape.md  # NEW — Lesson 1.3
│   └── lesson-4-sensor-systems.md      # NEW — Lesson 1.4
├── chapter-2-ros2-architecture/
│   ├── README.md                      # Chapter overview (exists)
│   ├── lesson-1-core-concepts.md      # NEW — Lesson 2.1
│   ├── lesson-2-nodes.md             # NEW — Lesson 2.2
│   ├── lesson-3-topics-messages.md    # NEW — Lesson 2.3
│   └── lesson-4-services-actions.md   # NEW — Lesson 2.4
└── chapter-3-building-ros2/
    ├── README.md                      # Chapter overview (exists)
    ├── lesson-1-packages-python.md    # NEW — Lesson 3.1
    ├── lesson-2-rclpy-agents.md       # NEW — Lesson 3.2
    ├── lesson-3-launch-params.md      # NEW — Lesson 3.3
    └── lesson-4-urdf-humanoids.md     # NEW — Lesson 3.4
```

**Structure Decision**: Content-only feature. All 12 new files are Markdown lessons placed in existing chapter directories. No new directories, components, or configuration changes needed.

## Tooling Strategy

### Agent Invocation

Each lesson MUST be generated by invoking the **`chapter-lesson-writer`** agent via the Task tool during `/sp.implement`. The agent:

1. Reads the 5 reference files from the `lesson-generator` skill before writing:
   - `.claude/skills/lesson-generator/references/frontmatter-schema.md`
   - `.claude/skills/lesson-generator/references/lesson-template.md`
   - `.claude/skills/lesson-generator/references/writing-standards.md`
   - `.claude/skills/lesson-generator/references/code-patterns.md`
   - `.claude/skills/lesson-generator/references/quality-checklist.md`
2. Reads the project constitution at `.specify/memory/constitution.md`
3. Reads the chapter README for context (learning objectives, lesson table, key concepts)
4. Reads the research.md for topic-specific content guidance
5. Writes the lesson file following the mandatory skeleton
6. Validates against the quality checklist before delivering

### Invocation Pattern

```
For each lesson in a chapter:
  Task(
    subagent_type = "chapter-lesson-writer",
    prompt = "Write lesson {X.Y}: {title}.
              Chapter README: {path}.
              Research: specs/002-module-1-lessons/research.md.
              Read all 5 lesson-generator skill reference files before writing.
              Read the constitution at .specify/memory/constitution.md.
              Output path: {target_path}.
              Frontmatter values: {tier, layer, duration, proficiency, prerequisites}.
              Validate against quality-checklist.md before saving."
  )
```

### Parallelization

- Lessons within the same chapter can be written in parallel (no dependencies between 1.1-1.4)
- Chapter 2 lessons should be written after Chapter 1 (to maintain terminology consistency)
- Chapter 3 lessons should be written after Chapter 2 (builds on Chapter 2 concepts)

## Implementation Phases

### Phase 0: Content Research

Research the factual content for each lesson to ensure accuracy. Refer to the official ROS 2 documentation (https://docs.ros.org/, https://design.ros2.org/) for accurate information. Generate `research.md` with topic outlines, key facts, and source references.

**Research areas by chapter:**

#### Chapter 1: Physical AI (conceptual, no code)
- Physical AI definition and distinction from digital AI (NVIDIA, Google DeepMind framing)
- Embodied intelligence theory (Rodney Brooks, morphological computation)
- Perception-action loop fundamentals
- Humanoid robotics market data (Goldman Sachs $154B projection, current players)
- Tesla Optimus, Figure 01/02, Unitree G1/H1, Boston Dynamics Atlas — current status
- Sensor technologies: LIDAR principles, depth cameras (Intel RealSense), IMU mechanics, force/torque sensors

#### Chapter 2: ROS 2 Architecture (illustrative code snippets)
- ROS 2 Humble architecture and DDS middleware (official docs)
- Node lifecycle and rclpy API patterns
- Topic/publisher/subscriber patterns with Twist, LaserScan, Image messages
- Service/action patterns with example service definitions
- Computation graph concepts and visualization

#### Chapter 3: Building with ROS 2 (illustrative code snippets)
- ROS 2 package structure (setup.py, package.xml, colcon build)
- rclpy patterns for bridging Python AI code with ROS 2
- Launch file Python API (LaunchDescription, Node actions)
- URDF XML structure for humanoid robots (links, joints, kinematics)

**Output**: `specs/002-module-1-lessons/research.md`

### Phase 1: Lesson Generation (via chapter-lesson-writer agent)

#### Batch 1: Chapter 1 — Introduction to Physical AI (4 lessons, parallel)

| Task | Lesson | Key Content | Duration | Tier | Layer | Proficiency |
|------|--------|-------------|----------|------|-------|-------------|
| T-01 | 1.1 Foundations of Physical AI | Define Physical AI, 3 components of embodied intelligence, why physics matters | 45 min | 1 | L1 | A2 |
| T-02 | 1.2 From Digital AI to Physical | ChatGPT vs walking robots paradigm shift, embodied intelligence, perception-action loop | 30 min | 1 | L1 | A2 |
| T-03 | 1.3 The Humanoid Landscape | Tesla Bot, Figure, Unitree, Boston Dynamics, market projections, form factor advantages | 45 min | 1 | L1 | A2 |
| T-04 | 1.4 Sensor Systems | LIDAR, RGB/depth cameras, IMUs, force/torque sensors, how sensors enable perception | 60 min | 1 | L1 | A2 |

**Agent**: `chapter-lesson-writer` for each lesson
**Dependencies**: research.md complete
**No code examples** — Chapter 1 is conceptual

#### Batch 2: Chapter 2 — ROS 2 Architecture (4 lessons, parallel)

| Task | Lesson | Key Content | Duration | Tier | Layer | Proficiency |
|------|--------|-------------|----------|------|-------|-------------|
| T-05 | 2.1 ROS 2 Core Concepts | DDS middleware, computation graph, node coordination overview | 45 min | 1-2 | L1 | A2 |
| T-06 | 2.2 Nodes — The Building Blocks | Creating nodes with rclpy, Node class, lifecycle | 60 min | 2 | L2 | B1 |
| T-07 | 2.3 Topics and Message Passing | Publisher/subscriber, message types, topic naming | 60 min | 2 | L2 | B1 |
| T-08 | 2.4 Services and Actions | Request/response, long-running with feedback, when to use each | 60 min | 2 | L2 | B1 |

**Agent**: `chapter-lesson-writer` for each lesson
**Dependencies**: Chapter 1 lessons complete (for terminology consistency)
**Code examples**: Illustrative snippets following four-part pattern

#### Batch 3: Chapter 3 — Building with ROS 2 (4 lessons, parallel)

| Task | Lesson | Key Content | Duration | Tier | Layer | Proficiency |
|------|--------|-------------|----------|------|-------|-------------|
| T-09 | 3.1 Building ROS 2 Packages | Package structure, setup.py, package.xml, colcon build | 75 min | 2 | L2 | B1 |
| T-10 | 3.2 Bridging Python Agents with rclpy | rclpy publisher/subscriber, connecting ML to ROS 2 | 75 min | 2 | L2-L3 | B1 |
| T-11 | 3.3 Launch Files and Parameters | Python launch files, parameters, namespaces, remapping | 60 min | 2 | L2 | B1 |
| T-12 | 3.4 Understanding URDF for Humanoids | URDF XML, links, joints, kinematics, visual/collision geometry | 90 min | 2 | L2 | B1 |

**Agent**: `chapter-lesson-writer` for each lesson
**Dependencies**: Chapter 2 lessons complete (builds on ROS 2 concepts)
**Code examples**: Illustrative snippets, URDF XML examples

### Phase 2: Cross-Lesson Validation

After all 12 lessons are written:

| Task | Validation Step |
|------|----------------|
| T-13 | Run `npm run build` — verify zero errors |
| T-14 | Verify all Next Steps links resolve (lesson-to-lesson navigation) |
| T-15 | Verify sidebar ordering matches chapter README tables |
| T-16 | Spot-check 3 random H2 sections for 300-500 token compliance |
| T-17 | Grep all lessons for banned phrases ("simply", "just", "obviously", "easy", "trivial", "as everyone knows") |
| T-18 | Verify all lessons have complete frontmatter (14 fields) |
| T-19 | Verify terminology consistency against constitution glossary |

### Phase 3: Finalize

| Task | Step |
|------|------|
| T-20 | Fix any issues found in Phase 2 validation |
| T-21 | Final `npm run build` — confirm clean build |

## Risk Analysis

| Risk | Impact | Mitigation |
|------|--------|------------|
| Agent produces content that doesn't meet quality checklist | Medium | Each task explicitly requires reading quality-checklist.md and validating before saving |
| H2 sections exceed 500 tokens | Medium | Validation task T-16 catches this; agent prompt includes 300-500 token constraint |
| Terminology drift between chapters | Low | Sequential chapter batches (Ch1 → Ch2 → Ch3) ensure consistency builds forward |
| Build fails due to frontmatter errors | Medium | T-13 catches build failures; T-18 validates frontmatter completeness |
| Lesson content is factually inaccurate | High | research.md provides verified facts; agent reads constitution glossary |

## Complexity Tracking

No complexity violations. This is a content generation feature using existing infrastructure (Docusaurus, existing directory structure, established skill/agent tooling). No new dependencies, APIs, or architectural patterns introduced.
